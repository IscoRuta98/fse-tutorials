# Applicaiton Programme Interface (APIs)

- APIs enables developers to access specific features and data of a software application or service.

- Formal definition: An API is a set of rules that define how applications or devices can connect to and communicate with each other.
Public (i.e. external) APIs are made to be used by anyone, whilst private APIs needs the user/developer to be authenticated before usage.

**Types of APIs**:
- Representational State Transfer (REST) APIs: Popular and easy-to-use APIs which use HTTP requests to get or change data.
- Simple Object Access Protocol (SOAP) APIs
- GraphQL
- Webhooks
- Websockets

## Tutorial Objective

The aim of this objective is to expose you to how to use APIs. For the purposes of this tutorial, we'll be focussing on OpenAi's API

# Getting Started with Python's OpenAI APIs

Welcome! This guide will help you set up your environment, install the necessary tools, and run your first script using the OpenAI API. It’s written with beginners in mind, so follow along step by step.

## Table of Contents
1. [Introduction](#introduction)
2. [Requirements](#requirements)
3. [Setting Up Your Environment](#setting-up-your-environment)
4. [Installing the OpenAI Python Library](#installing-the-openai-python-library)
5. [Obtaining an API Key](#obtaining-an-api-key)
6. [Basic Usage Example](#basic-usage-example)
7. [Running Your Script](#running-your-script)
8. [Assignment](#additional-resources)

## Introduction
OpenAI provides AI models that you can integrate into your Python applications. In this guide, you’ll learn how to call the OpenAI API to generate text.

## Requirements
- **Basic Python knowledge:** This guide is designed for beginners.
- **Python Installed:** Version 3.6 or higher. Download from [python.org](https://www.python.org/).
- **Internet Connection:** To interact with the OpenAI API.
- **Text Editor/IDE:** Use your preferred editor (VS Code, PyCharm, etc.).

## Setting Up Your Environment
1. **Install Python:** If you haven’t already, download and install Python from [python.org](https://www.python.org/).
2. **Create a Virtual Environment (Optional but Recommended):**  
   Open your terminal or command prompt and run:
   ```bash
   python -m venv openai-env
   ```

3. **Activate the virtual environment:**
    Windows:
    ```bash
    openai-env\Scripts\activate
    ```
    macOS/Linux:
    ```bash
    source openai-env/bin/activate
    ```

## Installing the OpenAI Python Library
Once your environment is set up, install the OpenAI Python package:

```bash
pip install openai
```

This command downloads and installs the library that allows your Python scripts to interact with the OpenAI API.

## Obtaining an API Key

1. Sign Up: Go to [OpenAI's platform API-Keys section](https://platform.openai.com) and create an account.
2. Generate API Key: After logging in, navigate to the [API](https://platform.openai.com/api-keys) section and generate a new API key.
3. Keep it Safe: Your API key is a secret token that gives access to your account. Do not share it publicly.

## Basic Usage Example

Create a new Python file, for example `example.py`, and add the following code:

```python
import os
from dotenv import load_dotenv
from pathlib import Path
from openai import OpenAI


dotenv_path = Path('path/to/.env')
load_dotenv(dotenv_path=dotenv_path)


client = OpenAI()

completion = client.chat.completions.create(
    model="gpt-4o",
    messages=[
        {
            "role": "user",
            "content": "Write a one-sentence bedtime story about a unicorn."
        }
    ]
)

print(completion.choices[0].message.content)
```
This script sends a text prompt to the API and prints out the generated text.

## Running your Script

1. Save your file.
2. Open a Terminal/Command Prompt: Navigate to the directory where example.py is saved.
3. Run the Script:
    ```bash
    python example.py
    ```
You should see the output generated by the API in your terminal.

## Assignment

Using OpenAI's API, build agent AI capable of taking action. This assignment is open ended. and the purpose is for you to go through documentation, understand and implement your own Agent AIs. The agents don't have to be finance related, the type of content your agents can asnwer is up to you.

**Resources**:

- [Build Agents Example](https://platform.openai.com/docs/quickstart?api-mode=chat#build-agents)
- [Agents Overview](https://platform.openai.com/docs/guides/agents)
- [Agents Python SDK](https://openai.github.io/openai-agents-python/)



Happy Coding :D

Example Python script

```python
from agents import Agent, Runner
import asyncio

spanish_agent = Agent(
    name="Spanish agent",
    instructions="You only speak Spanish.",
)

english_agent = Agent(
    name="English agent",
    instructions="You only speak English",
)

triage_agent = Agent(
    name="Triage agent",
    instructions="Handoff to the appropriate agent based on the language of the request.",
    handoffs=[spanish_agent, english_agent],
)


async def main():
    result = await Runner.run(triage_agent, input="Hola, ¿cómo estás?")
    print(result.final_output)


if __name__ == "__main__":
    asyncio.run(main())

# ¡Hola! Estoy bien, gracias por preguntar. ¿Y tú, cómo estás?
```

(If running this, ensure you set the `OPENAI_API_KEY` environment variable)
```bash
export OPENAI_API_KEY=sk-...
```